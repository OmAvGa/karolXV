<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Administraci贸n - XV A帽os</title>
    <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@400;700&family=Montserrat:wght@300;400;600&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <div class="admin-container">
        <div class="admin-header">
            <h1>Panel de Administraci贸n</h1>
            <p style="color: #666;">XV A帽os - Karol Dariana</p>
        </div>

        <!-- Estad铆sticas -->
        <div class="stats-container">
            <div class="stat-card confirmed">
                <div class="stat-number" id="confirmedCount">0</div>
                <div class="stat-label">Confirmados</div>
            </div>
            <div class="stat-card pending">
                <div class="stat-number" id="pendingCount">0</div>
                <div class="stat-label">Pendientes</div>
            </div>
            <div class="stat-card declined">
                <div class="stat-number" id="declinedCount">0</div>
                <div class="stat-label">Rechazados</div>
            </div>
            <div class="stat-card total">
                <div class="stat-number" id="totalPeople">0</div>
                <div class="stat-label">Total Personas</div>
            </div>
        </div>

        <div class="admin-sections">
            <!-- Crear Nueva Invitaci贸n -->
            <div class="admin-section">
                <h2 class="section-title">Crear Nueva Invitaci贸n</h2>
                <form id="createInvitationForm">
                    <div class="form-group">
                        <label for="guestName">Nombre del Invitado</label>
                        <input type="text" id="guestName" placeholder="Ej: Mar铆a Garc铆a" required>
                    </div>
                    <div class="form-group">
                        <label for="guestPasses">N煤mero de Personas</label>
                        <input type="number" id="guestPasses" min="1" max="10" value="1" required>
                    </div>
                    <button type="submit" class="btn btn-primary">Generar Invitaci贸n</button>
                </form>
                
                <div class="generated-link" id="generatedLink">
                    <h3 style="margin-bottom: 10px; color: #333;">隆Invitaci贸n Generada!</h3>
                    <p style="color: #666; font-size: 0.9rem;">Comparte este link con el invitado:</p>
                    <div class="link-text" id="linkText"></div>
                    <div style="display: flex; gap: 10px; margin-top: 15px; flex-wrap: wrap;">
                        <button class="btn btn-copy" onclick="copyLink()" style="flex: 1; min-width: 150px;">
                             Copiar Link
                        </button>
                        <button class="btn" onclick="sendWhatsApp()" style="flex: 1; min-width: 150px; background: #25D366; color: white;">
                             Enviar por WhatsApp
                        </button>
                    </div>
                </div>
            </div>

            <!-- Lista de Invitados -->
            <div class="admin-section">
                <h2 class="section-title">Lista de Invitados</h2>
                
                <div class="filter-buttons">
                    <button class="filter-btn active" data-filter="all">Todos</button>
                    <button class="filter-btn" data-filter="confirmed">Confirmados</button>
                    <button class="filter-btn" data-filter="pending">Pendientes</button>
                    <button class="filter-btn" data-filter="declined">Rechazados</button>
                </div>

                <div id="guestsTableContainer">
                    <div class="loading">Cargando invitados...</div>
                </div>
            </div>
        </div>
    </div>

    <!-- Firebase SDKs -->
    <script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-database-compat.js"></script>
    <script src="admin.js"></script>
</body>
</html>